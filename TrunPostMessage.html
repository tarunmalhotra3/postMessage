<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Message Example</title>
    <script>
        function sendMessageToMAUI() {
            const message = { text: 'Hello from HTML!' };
            // Replace 'maui-app' with the target origin (e.g., 'http://localhost:8000') if known
            alert("Yo! Before sending");
            
            window.parent.postMessage(message, '*'); 
            //document.parent.postMessage(message, '*');

            alert("After sending");
        }

        // Listener for `postMessage` that assigns message to a variable
        window.addEventListener('message', function(event) {
            window.receivedData = event.data;  // Store message in a global variable
        });
        
    </script>
</head>
<body>
    <h1>Trun Page</h1>
    <button onclick="sendMessageToMAUI()">Send Message to MAUI</button>
</body>
</html>
